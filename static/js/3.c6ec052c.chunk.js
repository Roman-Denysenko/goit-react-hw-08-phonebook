(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[3],{101:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return z}));var a=n(0),c=n(102),r=n(13),i=n(93),o=n.n(i),s=n(19),u=n.n(s),l=n(9);u.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var b=function(){return function(t){t(Object(l.h)()),u.a.get("/contacts").then((function(e){var n=e.data;return t(Object(l.i)(n))})).catch((function(e){return t(Object(l.g)(e))}))}},m=n(28),j=function(t){return t.contacts},_=function(t){return j(t).items},f=function(t){return j(t).filter},p=Object(m.a)([_,f],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),d={getContacts:j,getContactsItems:_,getLoading:function(t){return j(t).loading},getFilterValue:f,getVisibleContacts:p},h=n(3),O=n(39),v=n(40),x=n(42),C=n(41),g=n(103),N=n(94),F=n.n(N),A=n(1),w=function(t){var e=t.name;return Object(A.jsx)("div",{className:F.a.warningContainer,children:Object(A.jsx)("p",{children:"".concat(e," is already is contact")})})},L=n(95),S=n.n(L),k=function(t){Object(x.a)(n,t);var e=Object(C.a)(n);function n(){var t;Object(O.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:"",warning:!1},t.handleInputName=function(e){var n,a=e.target,c=a.name,r=a.value;t.setState((n={},Object(h.a)(n,c,r),Object(h.a)(n,"warning",!1),n)),t.handleDeleteContactFromFormState()},t.handleSubmitForm=function(e){e.preventDefault();var n=t.state,a=n.name,c=n.number,r=t.props.contacts.items,i={id:Object(g.a)(),name:a,number:c};""!==a&&""!==c&&(r.find((function(t){return a===t.name}))?t.setState({warning:!0}):(t.setState({warning:!1}),t.props.onAdd(i),t.resetInput()))},t.handleDeleteContactFromFormState=function(){var e=t.props.contacts.items;t.setState({contacts:e})},t.resetInput=function(){t.setState({name:"",number:""})},t}return Object(v.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number,a=t.warning;return Object(A.jsxs)("div",{className:S.a.formContainer,children:[Object(A.jsx)(c.a,{in:a,timeout:250,classNames:S.a,unmountOnExit:!0,children:Object(A.jsx)(w,{name:e})}),Object(A.jsxs)("form",{onSubmit:this.handleSubmitForm,className:S.a.form,children:[Object(A.jsxs)("label",{className:S.a.label,children:["Name",Object(A.jsx)("input",{className:S.a.input,type:"text",name:"name",value:e,onChange:this.handleInputName})]}),Object(A.jsxs)("label",{className:S.a.label,children:["Number",Object(A.jsx)("input",{className:S.a.input,type:"tel",name:"number",value:n,onChange:this.handleInputName})]}),Object(A.jsx)("button",{className:S.a.button,type:"submit",children:"Add contact"})]})]})}}]),n}(a.Component);k.defaultProps={};var y=Object(r.b)((function(t){return{contacts:d.getContacts(t)}}),(function(t){return{onAdd:function(e){return t(function(t){return function(e){e(Object(l.b)()),u.a.post("/contacts",t).then((function(t){var n=t.data;return e(Object(l.c)(n))})).catch((function(t){return e(Object(l.a)(t))}))}}(e))}}}))(k),I=n(104),D=n(96),E=n.n(D),V=Object(r.b)((function(t){return{items:d.getContactsItems(t),visibleContacts:d.getVisibleContacts(t)}}),(function(t){return{onDelete:function(e){return t(function(t){return function(e){e(Object(l.e)()),u.a.delete("/contacts/".concat(t)).then((function(){return e(Object(l.f)(t))})).catch((function(t){return e(Object(l.d)(t))}))}}(e))}}}))((function(t){var e=t.items,n=t.visibleContacts,a=t.onDelete;if(0===e.length)return null;return Object(A.jsx)(I.a,{component:"ul",children:n.map((function(t){var e=t.id,n=t.name,r=t.number;return""===n||""===r?null:Object(A.jsx)(c.a,{timeout:250,classNames:E.a,children:Object(A.jsxs)("li",{className:E.a.item,children:[n,": ",r,Object(A.jsx)("button",{className:E.a.button,type:"button",id:e,onClick:function(){return a(e)},children:"Delete"})," "]})},e)}))})})),K=n(97),Y=n.n(K),P=Object(r.b)((function(t){return{value:d.getFilterValue(t)}}),(function(t){return{onFilter:function(e){return t(Object(l.j)(e.target.value))}}}))((function(t){var e=t.value,n=t.onFilter;return Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)("label",{className:Y.a.label,children:["Find contact by name",Object(A.jsx)("input",{className:Y.a.input,type:"text",name:"filter",value:e,onChange:n})]})})})),z=Object(r.b)((function(t){return{items:d.getContactsItems(t),loading:d.getLoading(t)}}),(function(t){return{fetchContacts:t(b())}}))((function(t){var e=t.items,n=t.loading;return b(),Object(A.jsxs)("div",{className:o.a.container,children:[Object(A.jsx)(c.a,{in:!0,appear:!0,classNames:o.a,timeout:500,unmountOnExit:!0,children:Object(A.jsx)("h1",{children:"Phonebook"})}),Object(A.jsx)(y,{}),n&&Object(A.jsx)("p",{children:"Loading..."}),Object(A.jsx)(c.a,{in:e.length>0,timeout:250,classNames:o.a,unmountOnExit:!0,children:Object(A.jsxs)("div",{children:[Object(A.jsx)("h2",{children:"Contacts"}),Object(A.jsx)(P,{}),Object(A.jsx)(V,{})]})})]})}))},93:function(t,e,n){t.exports={container:"Contacts_container__3YNDo",enter:"Contacts_enter__KzKm1",enterActive:"Contacts_enterActive__1jvsv",exit:"Contacts_exit__21_ib",exitActive:"Contacts_exitActive__3k3Pn",appear:"Contacts_appear__3n6Dd",appearActive:"Contacts_appearActive__1dftY"}},94:function(t,e,n){t.exports={warningContainer:"Warning_warningContainer__2EN7S"}},95:function(t,e,n){t.exports={form:"ContactForm_form__v83pb",input:"ContactForm_input__3fIcq",label:"ContactForm_label__S2Xyt",button:"ContactForm_button__1fY90",formContainer:"ContactForm_formContainer__2hQjx",enter:"ContactForm_enter__3wzki",enterActive:"ContactForm_enterActive__LnTU2",exit:"ContactForm_exit__3vr4s",exitActive:"ContactForm_exitActive__1ZKT7"}},96:function(t,e,n){t.exports={button:"ContactList_button__iH2GR",item:"ContactList_item__3lxuK",enter:"ContactList_enter__2f9hS",enterActive:"ContactList_enterActive__mVECa",exit:"ContactList_exit__2p3Cj",exitActive:"ContactList_exitActive__2CB6Y"}},97:function(t,e,n){t.exports={label:"Filter_label__2pdNv",input:"Filter_input__tiuNn"}}}]);
//# sourceMappingURL=3.c6ec052c.chunk.js.map